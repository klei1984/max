---
layout: page
title: How to configure M.A.X. v1.04 to improve game stability
permalink: /fixdos/
---

### Preface

The article provides a step by step guide to configure M.A.X. v1.04 in a way that may crash less often.

### MS-DOS (Retail CD-ROM versions)

Interplay Productions released at least four retail CD-ROM versions of M.A.X. 1 and later included M.A.X. 1 in best of game compilations, finally many gaming magazines bundled M.A.X. 1 as a cover disc.

tbd.

### Steam (2023-03-13, Windows)

The Steam version of M.A.X. 1 is based on the EU retail CD-ROM version from Interplay Productions (Serial CD-ICD-082-EU). The game is already patched to v1.04 (English).

These are the identified issues with the Steam version of the game:
1. The DPMI server bound to the linear executable is DOS/4GW Professional v1.97 which is defective. The defective DPMI server should be exchanged to a freeware alternative called DOS/32A.
2. The `MAX.INI` configuration file:
- Sound Blaster Pro is set up as digital audio device while DOSBox is configured to emulate a Sound Blaster 16/AWE32 sound card.
- The SETUP INI section does not define the `enhanced_graphics` option which means that the game cannot save the user preference and the option is reset to enabled on exit. Note that the game overrides the setting on startup.
3. The DOSBox emulator version is 0.74-3 which is up to date, but the used `dosboxMAX1.conf` configuration file template is outdated. Several settings that are benefitial for DOSBox 0.74-3 are not or wrongly defined:
- The configuration file sets the system memory to 16 MiB which is not sufficient. The maximum which is 64 MiB shall be configured by the `memsize` option.
- The `cputype` option is missing from the configuration file which defaults to the fastest (auto) option.
- The sound card is set to Sound Blaster 16 by the `sbtype` option while the game configured Sound Blaster Pro so the game runs in compatibility mode.
- The `mixer` option was renamed to `sbmixer` by DOSBox. It is assumed that the option is now ignored by the emulator.
- The `keyboardlayout` option is set to none.

To rebound the maxrun.exe [\[4\]](#ref4) executable to DOS/32A DOSBox provides a step by step guide [\[1\]](#ref1).<br>
The DOS/32A tool can be downloaded from it's official home page [\[2\]](#ref2).<br>
The `dosboxMAX1.conf` configuration file template can be generated by DOSBox itself. E.g. run `\DOSBox\DOSBox 0.74-3 Options.bat` on Windows from the game's install folder.<br>

The patch that corrects all the above issues can be downloaded from [here (v1, 2023-03-13)]({{ site.baseurl }}/assets/files/steam_patch.7z). 7-Zip archive files can be extracted using the freeware 7-Zip archive manager tool [\[3\]](#ref3).

In case the user experiences computer player hangs or strange game logic issues, disable the enhanced graphics option from the main menu's setup window. The option is overridden by M.A.X. v1.04 on each startup.

### GOG.com (2023-03-13, Windows)

The GOG.com version tbd.

# References
<a name="ref1"></a>\[1\] [DOSBox TOOLS:DOS32A article](https://www.dosbox.com/wiki/TOOLS:DOS32A)<br>
<a name="ref2"></a>\[2\] [dos32a-912-bin.zip](https://web.archive.org/web/20220628021610/https://dos32a.narechk.net/index_en.html)<br>
<a name="ref3"></a>\[3\] [7-Zip tool](https://7-zip.org/download.html)<br>
<a name="ref4"></a>\[4\] [M.A.X. v1.04 English patch](https://archive.org/details/MAXE104)<br>
